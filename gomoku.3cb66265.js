parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dgRt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GAME_STATE=exports.STONE=void 0,exports.STONE={NONE:0,FIRST:1,SECOND:2,WALL:-1},exports.GAME_STATE={PENDING:0,WIN:1,DRAW:2};
},{}],"dIrE":[function(require,module,exports) {
"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var n,e,r,o=this&&this.__classPrivateFieldSet||function(t,n,e,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!o:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,e):o?o.value=e:n.set(t,e),e},u=this&&this.__classPrivateFieldGet||function(t,n,e,r){if("a"===e&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?r:"a"===e?r.call(t):r?r.value:n.get(t)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GomokuNarabe=void 0;var i=require("./global"),s=function(){function s(t){n.set(this,void 0),e.set(this,void 0),r.set(this,void 0),o(this,r,t,"f"),o(this,e,i.STONE.FIRST,"f"),o(this,n,new Array(t+2).fill(null).map(function(n){return new Array(t+2).fill(i.STONE.NONE)}),"f");for(var s=0;s<t+2;s++)u(this,n,"f")[s][0]=i.STONE.WALL,u(this,n,"f")[s][t+1]=i.STONE.WALL,u(this,n,"f")[0][s]=i.STONE.WALL,u(this,n,"f")[t+1][s]=i.STONE.WALL}return Object.defineProperty(s.prototype,"field",{get:function(){return u(this,n,"f").slice(1,-1).map(function(t){return t.slice(1,-1)})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"turn",{get:function(){return u(this,e,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return u(this,r,"f")},enumerable:!1,configurable:!0}),s.prototype.getOpponentTurn=function(){return this.turn===i.STONE.FIRST?i.STONE.SECOND:i.STONE.FIRST},s.prototype.putStone=function(t,r){if(u(this,n,"f")[t][r]!==i.STONE.NONE)return null;u(this,n,"f")[t][r]=u(this,e,"f");var s=this.checkGameState(t,r,u(this,n,"f"),u(this,e,"f"));return o(this,e,this.getOpponentTurn(),"f"),s},s.prototype.checkGameState=function(t,n,e,r){return o([0,1])+o([0,-1])>=4?i.GAME_STATE.WIN:o([1,0])+o([-1,0])>=4?i.GAME_STATE.WIN:o([1,1])+o([-1,-1])>=4?i.GAME_STATE.WIN:o([1,-1])+o([-1,1])>=4?i.GAME_STATE.WIN:e.every(function(t){return t.every(function(t){return t!==i.STONE.NONE})})?i.GAME_STATE.DRAW:i.GAME_STATE.PENDING;function o(o){var u=t,i=n,s=0;return function t(){u+=o[0];i+=o[1];if(e[u][i]!==r)return;s++;t()}(),s}},s.prototype.comNext=function(){for(var e=[],o=1;o<=u(this,r,"f");o++)for(var s=1;s<=u(this,r,"f");s++)u(this,n,"f")[o][s]==i.STONE.NONE&&e.push([o,s]);for(var f=0,a=e;f<a.length;f++){var c=[(st=a[f])[0],st[1]],h=c[0],d=c[1];if((Z=structuredClone(u(this,n,"f")))[h][d]=this.turn,this.checkGameState(h,d,Z,this.turn)===i.GAME_STATE.WIN)return[h-1,d-1]}for(var p=0,l=e;p<l.length;p++){var E=[(st=l[p])[0],st[1]],v=E[0],T=E[1];if((Z=structuredClone(u(this,n,"f")))[v][T]=this.getOpponentTurn(),this.checkGameState(v,T,Z,this.getOpponentTurn())===i.GAME_STATE.WIN)return[v-1,T-1]}for(var y=0,S=e;y<S.length;y++){var g=[(st=S[y])[0],st[1]],N=g[0],O=g[1];if((Z=structuredClone(u(this,n,"f")))[N][O]=this.turn,(G=($=this.getStoneArray(N,O,Z,this.turn)).counts.findIndex(function(t){return 3==t}))>=0&&2==$.noneEnds[G])return[N-1,O-1]}for(var A=0,m=e;A<m.length;A++){var b=[(st=m[A])[0],st[1]],w=b[0],I=b[1];(Z=structuredClone(u(this,n,"f")))[w][I]=this.turn;var G=($=this.getStoneArray(w,I,Z,this.turn)).counts.findIndex(function(t){return 3==t}),x=$.counts.findIndex(function(t){return 2==t});if(G>=0&&1==$.noneEnds[G]&&x>=0&&2==$.noneEnds[x])return[w-1,I-1]}for(var M=0,W=e;M<W.length;M++){var _=[(st=W[M])[0],st[1]],C=_[0],P=_[1];if((Z=structuredClone(u(this,n,"f")))[C][P]=this.turn,(G=($=this.getStoneArray(C,P,Z,this.turn)).counts.findIndex(function(t){return 3==t}))>=0&&1==$.noneEnds[G]){if(Math.random()<.5)continue;return[C-1,P-1]}}for(var k=0,L=e;k<L.length;k++){var j=[(st=L[k])[0],st[1]],F=j[0],R=j[1];if((Z=structuredClone(u(this,n,"f")))[F][R]=this.getOpponentTurn(),(G=($=this.getStoneArray(F,R,Z,this.getOpponentTurn())).counts.findIndex(function(t){return 3==t}))>=0&&2==$.noneEnds[G])return[F-1,R-1]}for(var D=0,q=e;D<q.length;D++){var z=[(st=q[D])[0],st[1]],B=z[0],H=z[1];(Z=structuredClone(u(this,n,"f")))[B][H]=this.getOpponentTurn();G=($=this.getStoneArray(B,H,Z,this.getOpponentTurn())).counts.findIndex(function(t){return 3==t}),x=$.counts.findIndex(function(t){return 2==t});if(G>=0&&1==$.noneEnds[G]&&x>=0&&2==$.noneEnds[x])return[B-1,H-1]}for(var J=0,K=e;J<K.length;J++){var Q=[(st=K[J])[0],st[1]],U=Q[0],V=Q[1];if((Z=structuredClone(u(this,n,"f")))[U][V]=this.turn,(G=($=this.getStoneArray(U,V,Z,this.turn)).counts.findIndex(function(t){return 2==t}))>=0&&2==$.noneEnds[G])return[U-1,V-1]}for(var X=0,Y=e;X<Y.length;X++){var Z,$,tt=[(st=Y[X])[0],st[1]],nt=tt[0],et=tt[1];if((Z=structuredClone(u(this,n,"f")))[nt][et]=this.getOpponentTurn(),(G=($=this.getStoneArray(nt,et,Z,this.getOpponentTurn())).counts.findIndex(function(t){return 2==t}))>=0&&2==$.noneEnds[G])return[nt-1,et-1]}for(var rt=function(t){var e=[t[0],t[1]],r=e[0],o=e[1],i=structuredClone(u(ot,n,"f"));i[r][o]=ot.turn;var s=ot.getStoneArray(r,o,i,ot.turn),f=s.counts.findIndex(function(t){return 1==t}),a=s.counts.findIndex(function(t,n){return 1==t&&n>f});if(f>=0&&2==s.noneEnds[f]&&a>=0&&2==s.noneEnds[a])return{value:[r-1,o-1]}},ot=this,ut=0,it=e;ut<it.length;ut++){var st,ft=rt(st=it[ut]);if("object"===t(ft))return ft.value}var at=Math.floor(e.length/2),ct=[e[at][0],e[at][1]];return[ct[0]-1,ct[1]-1]},s.prototype.getStoneArray=function(t,n,e,r){var o=[],u=[];return o.push(s([0,1]).count+s([0,-1]).count),u.push(s([0,1]).noneEnd+s([0,-1]).noneEnd),o.push(s([1,0]).count+s([-1,0]).count),u.push(s([1,0]).noneEnd+s([-1,0]).noneEnd),o.push(s([1,1]).count+s([-1,-1]).count),u.push(s([1,1]).noneEnd+s([-1,-1]).noneEnd),o.push(s([1,-1]).count+s([-1,1]).count),u.push(s([1,-1]).noneEnd+s([-1,1]).noneEnd),{counts:o,noneEnds:u};function s(o){var u=t,s=n,f=0,a=0;return function t(){u+=o[0];s+=o[1];if(e[u][s]!==r)return void(a=e[u][s]==i.STONE.NONE?1:0);f++;t()}(),{count:f,noneEnd:a}}},s}();exports.GomokuNarabe=s,n=new WeakMap,e=new WeakMap,r=new WeakMap;
},{"./global":"dgRt"}]},{},["dIrE"], null)
//# sourceMappingURL=/gomoku.3cb66265.js.map