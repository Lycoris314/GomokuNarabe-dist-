parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dgRt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GAME_STATE=exports.STONE=void 0,exports.STONE={NONE:0,FIRST:1,SECOND:2,WALL:-1},exports.GAME_STATE={PENDING:0,WIN:1,DRAW:2};
},{}],"dIrE":[function(require,module,exports) {
"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var n,e,r,o=this&&this.__classPrivateFieldSet||function(t,n,e,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!o:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,e):o?o.value=e:n.set(t,e),e},u=this&&this.__classPrivateFieldGet||function(t,n,e,r){if("a"===e&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?r:"a"===e?r.call(t):r?r.value:n.get(t)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GomokuNarabe=void 0;var i=require("./global"),s=function(){function s(t){n.set(this,void 0),e.set(this,void 0),r.set(this,void 0),o(this,r,t,"f"),o(this,e,i.STONE.FIRST,"f"),o(this,n,new Array(t+2).fill(null).map(function(n){return new Array(t+2).fill(i.STONE.NONE)}),"f");for(var s=0;s<t+2;s++)u(this,n,"f")[s][0]=i.STONE.WALL,u(this,n,"f")[s][t+1]=i.STONE.WALL,u(this,n,"f")[0][s]=i.STONE.WALL,u(this,n,"f")[t+1][s]=i.STONE.WALL}return Object.defineProperty(s.prototype,"field",{get:function(){return u(this,n,"f").slice(1,-1).map(function(t){return t.slice(1,-1)})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"turn",{get:function(){return u(this,e,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return u(this,r,"f")},enumerable:!1,configurable:!0}),s.prototype.getOpponentTurn=function(){return this.turn===i.STONE.FIRST?i.STONE.SECOND:i.STONE.FIRST},s.prototype.putStone=function(t,r){if(u(this,n,"f")[t][r]!==i.STONE.NONE)return null;u(this,n,"f")[t][r]=u(this,e,"f");var s=this.checkGameState(t,r,u(this,n,"f"),u(this,e,"f"));return o(this,e,this.getOpponentTurn(),"f"),s},s.prototype.checkGameState=function(t,n,e,r){return o([0,1])+o([0,-1])>=4?i.GAME_STATE.WIN:o([1,0])+o([-1,0])>=4?i.GAME_STATE.WIN:o([1,1])+o([-1,-1])>=4?i.GAME_STATE.WIN:o([1,-1])+o([-1,1])>=4?i.GAME_STATE.WIN:e.every(function(t){return t.every(function(t){return t!==i.STONE.NONE})})?i.GAME_STATE.DRAW:i.GAME_STATE.PENDING;function o(o){var u=t,i=n,s=0;return function t(){u+=o[0];i+=o[1];if(e[u][i]!==r)return;s++;t()}(),s}},s.prototype.comNext=function(){for(var e=[],o=1;o<=u(this,r,"f");o++)for(var s=1;s<=u(this,r,"f");s++)u(this,n,"f")[o][s]==i.STONE.NONE&&e.push([o,s]);for(var f=0,a=e;f<a.length;f++){var c=(Z=a[f])[0],h=Z[1];if((H=structuredClone(u(this,n,"f")))[c][h]=this.turn,this.checkGameState(c,h,H,this.turn)===i.GAME_STATE.WIN)return[c-1,h-1]}for(var d=0,p=e;d<p.length;d++){var l=(Z=p[d])[0],E=Z[1];if((H=structuredClone(u(this,n,"f")))[l][E]=this.getOpponentTurn(),this.checkGameState(l,E,H,this.getOpponentTurn())===i.GAME_STATE.WIN)return[l-1,E-1]}for(var v=0,T=e;v<T.length;v++){var y=(Z=T[v])[0],S=Z[1];if((H=structuredClone(u(this,n,"f")))[y][S]=this.turn,(m=(J=this.getStoneArray(y,S,H,this.turn)).counts.findIndex(function(t){return 3===t}))>=0&&2===J.noneEnds[m])return[y-1,S-1]}for(var g=0,N=e;g<N.length;g++){var O=(Z=N[g])[0],A=Z[1];(H=structuredClone(u(this,n,"f")))[O][A]=this.turn;var m=(J=this.getStoneArray(O,A,H,this.turn)).counts.findIndex(function(t){return 3===t}),b=J.counts.findIndex(function(t){return 2===t});if(m>=0&&1==J.noneEnds[m]&&b>=0&&2==J.noneEnds[b])return[O-1,A-1]}for(var w=0,I=e;w<I.length;w++){var G=(Z=I[w])[0],x=Z[1];if((H=structuredClone(u(this,n,"f")))[G][x]=this.turn,(m=(J=this.getStoneArray(G,x,H,this.turn)).counts.findIndex(function(t){return 3===t}))>=0&&1===J.noneEnds[m]){if(Math.random()<.5)continue;return[G-1,x-1]}}for(var M=0,W=e;M<W.length;M++){var _=(Z=W[M])[0],C=Z[1];if((H=structuredClone(u(this,n,"f")))[_][C]=this.getOpponentTurn(),(m=(J=this.getStoneArray(_,C,H,this.getOpponentTurn())).counts.findIndex(function(t){return 3===t}))>=0&&2===J.noneEnds[m])return[_-1,C-1]}for(var P=0,k=e;P<k.length;P++){var L=(Z=k[P])[0],j=Z[1];(H=structuredClone(u(this,n,"f")))[L][j]=this.getOpponentTurn();m=(J=this.getStoneArray(L,j,H,this.getOpponentTurn())).counts.findIndex(function(t){return 3==t}),b=J.counts.findIndex(function(t){return 2==t});if(m>=0&&1==J.noneEnds[m]&&b>=0&&2==J.noneEnds[b])return[L-1,j-1]}for(var F=0,R=e;F<R.length;F++){var D=(Z=R[F])[0],q=Z[1];if((H=structuredClone(u(this,n,"f")))[D][q]=this.turn,(m=(J=this.getStoneArray(D,q,H,this.turn)).counts.findIndex(function(t){return 2==t}))>=0&&2==J.noneEnds[m])return[D-1,q-1]}for(var z=0,B=e;z<B.length;z++){var H,J,K=(Z=B[z])[0],Q=Z[1];if((H=structuredClone(u(this,n,"f")))[K][Q]=this.getOpponentTurn(),(m=(J=this.getStoneArray(K,Q,H,this.getOpponentTurn())).counts.findIndex(function(t){return 2==t}))>=0&&2==J.noneEnds[m])return[K-1,Q-1]}for(var U=function(t){var e=t[0],r=t[1],o=structuredClone(u(V,n,"f"));o[e][r]=V.turn;var i=V.getStoneArray(e,r,o,V.turn),s=i.counts.findIndex(function(t){return 1==t}),f=i.counts.findIndex(function(t,n){return 1==t&&n>s});if(s>=0&&2==i.noneEnds[s]&&f>=0&&2==i.noneEnds[f])return{value:[e-1,r-1]}},V=this,X=0,Y=e;X<Y.length;X++){var Z,$=U(Z=Y[X]);if("object"===t($))return $.value}var tt=e[Math.floor(e.length/2)];return[tt[0]-1,tt[1]-1]},s.prototype.getStoneArray=function(t,n,e,r){var o=[],u=[];return o.push(s([0,1]).count+s([0,-1]).count),u.push(s([0,1]).noneEnd+s([0,-1]).noneEnd),o.push(s([1,0]).count+s([-1,0]).count),u.push(s([1,0]).noneEnd+s([-1,0]).noneEnd),o.push(s([1,1]).count+s([-1,-1]).count),u.push(s([1,1]).noneEnd+s([-1,-1]).noneEnd),o.push(s([1,-1]).count+s([-1,1]).count),u.push(s([1,-1]).noneEnd+s([-1,1]).noneEnd),{counts:o,noneEnds:u};function s(o){var u=t,s=n,f=0,a=0;return function t(){u+=o[0];s+=o[1];if(e[u][s]!==r)return void(a=e[u][s]==i.STONE.NONE?1:0);f++;t()}(),{count:f,noneEnd:a}}},s}();exports.GomokuNarabe=s,n=new WeakMap,e=new WeakMap,r=new WeakMap;
},{"./global":"dgRt"}]},{},["dIrE"], null)
//# sourceMappingURL=https://lycoris314.github.io/GomokuNarabe-dist-/gomoku.ab0254c5.js.map